(this["webpackJsonptezos-secrets"]=this["webpackJsonptezos-secrets"]||[]).push([[0],{163:function(t,e){},224:function(t,e,n){},225:function(t,e,n){},231:function(t,e){},233:function(t,e){},295:function(t,e){},297:function(t,e){},307:function(t,e){},309:function(t,e){},341:function(t,e){},343:function(t,e){},344:function(t,e){},349:function(t,e){},351:function(t,e){},370:function(t,e){},382:function(t,e){},385:function(t,e){},405:function(t,e,n){},408:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n.n(c),s=n(25),r=n.n(s),o=(n(224),n(0)),i=n(38),u=n(19),l=(n(225),n(61)),j=n(92),p=n(22),b=n(441),d=n(440),f=n(40),h=n.n(f),O=n.p+"static/media/spinner.d99b4eae.svg",g=(n(405),n(13)),x=new l.a("https://mainnet-tezos.giganode.io"),v=new j.a({name:"Beacon Docs Taquito"});x.setWalletProvider(v);var m=function(t){var e=t.accAddress,n=Object(c.useState)(1e3),a=Object(u.a)(n,2),s=a[0],r=a[1],l=Object(c.useState)(12),j=Object(u.a)(l,2),p=j[0],d=j[1],f=Object(c.useState)(59),O=Object(u.a)(f,2),x=O[0],v=O[1],m=Object(c.useState)(1660042341),y=Object(u.a)(m,2),k=y[0],w=y[1],C=Object(c.useState)(0),z=Object(u.a)(C,2),T=z[0],S=z[1],A=Object(c.useState)(0),W=Object(u.a)(A,2),J=W[0],E=W[1],G=Object(c.useState)([]),D=Object(u.a)(G,2),q=D[0],F=D[1],N=Object(c.useState)(-1),I=Object(u.a)(N,2),P=I[0],H=I[1];function K(){return(K=Object(i.a)(Object(o.a)().mark((function t(){var e,n,c,a,s,r;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get("https://api.ghostnet.tzkt.io/v1/contracts/KT1Ji1mHYiWjpCzQq3nGFWzDfJNrpcwwCtob/storage");case 2:return e=t.sent,console.log(e.data),n=new Date(e.data.lastClick),c=Math.floor(n/1e3),console.log(c),t.next=9,h.a.get("https://api.ghostnet.tzkt.io/v1/accounts/KT1Ji1mHYiWjpCzQq3nGFWzDfJNrpcwwCtob/balance");case 9:return a=t.sent,console.log(a.data-e.data.operationFee),S(a.data-e.data.operationFee),w(c),H(e.data.gameState),t.next=16,h.a.get("https://api.ghostnet.tzkt.io/v1/contracts/KT1Ji1mHYiWjpCzQq3nGFWzDfJNrpcwwCtob/bigmaps/clickers/keys");case 16:return(s=t.sent)&&s.data&&s.data[e.data.clickCounter-1]&&E(s.data[e.data.clickCounter-1].value),t.next=20,h.a.get("https://api.ghostnet.tzkt.io/v1/contracts/KT1Ji1mHYiWjpCzQq3nGFWzDfJNrpcwwCtob/bigmaps/colors/keys");case 20:r=t.sent,F(r.data),console.log(r.data);case 23:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){var t=Date.now(),e=Math.floor(t/1e3);console.log(e),r(k+3600-e)}),[k]),Object(c.useEffect)((function(){var t=setInterval((function(){r((function(t){return t-1}))}),1e3);return function(){return clearInterval(t)}}),[s]),Object(c.useEffect)((function(){d(Math.floor(s/60)),v(s%60)}),[s]),Object(c.useEffect)((function(){!function(){K.apply(this,arguments)}()}),[]),Object(g.jsxs)("div",{style:{marginBottom:100},children:[1==P&&s>0&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(g.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(g.jsxs)("div",{children:[Object(g.jsxs)("h1",{style:{fontSize:"2em"},children:[p<10?"0"+p:p,":",x<10?"0"+x:x," "]}),Object(g.jsxs)("b",{style:{backgroundColor:function(t){console.log("test performance");for(var e=0;e<q.length;e++)if(q[e].key===t)return q[e].value;return"gray"}(J),padding:10,color:"black"},children:[" ",J]})]})}),Object(g.jsx)("div",{style:{margin:50,marginInline:200,paddingRight:"10%"},children:Object(g.jsx)("div",{class:"buttn",onClick:Object(i.a)(Object(o.a)().mark((function t(){return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("dont push the button !"),t.next=3,fetch("https://onchain-onboard.herokuapp.com/users/game/click/".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});case 3:t.sent;case 4:case"end":return t.stop()}}),t)})))})}),Object(g.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(g.jsxs)("h1",{style:{fontSize:"2em"},children:["Prize: ",T/1e6," XTZ "]})})]}),Object(g.jsx)("div",{style:{fontSize:"2em",textAlign:"center"},children:"Press = 1 xtz"})]}),1==P&&s<=0&&Object(g.jsx)(b.a,{onClick:Object(i.a)(Object(o.a)().mark((function t(){return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("dont push the button !"),t.next=3,fetch("https://onchain-onboard.herokuapp.com/users/game/conclude",{method:"GET",headers:{"Content-Type":"application/json"}});case 3:t.sent;case 4:case"end":return t.stop()}}),t)}))),children:"conclude game"}),0==P&&Object(g.jsx)("div",{children:Object(g.jsx)(b.a,{onClick:Object(i.a)(Object(o.a)().mark((function t(){return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("dont push the button !"),t.next=3,fetch("https://onchain-onboard.herokuapp.com/users/game/start",{method:"GET",headers:{"Content-Type":"application/json"}});case 3:t.sent;case 4:case"end":return t.stop()}}),t)}))),children:"start game"})})]})},y=new l.a("https://mainnet-tezos.giganode.io"),k=new j.a({name:"Beacon Docs Taquito"}),w="KT1Ji1mHYiWjpCzQq3nGFWzDfJNrpcwwCtob";y.setWalletProvider(k);var C=function(){var t=Object(c.useState)(),e=Object(u.a)(t,2),n=e[0],s=e[1],r=a.a.useState(""),l=Object(u.a)(r,2),j=l[0],f=l[1],x=a.a.useState([]),v=Object(u.a)(x,2),y=v[0],C=v[1],z=a.a.useState(!1),T=Object(u.a)(z,2),S=T[0],A=(T[1],Object(c.useState)([])),W=Object(u.a)(A,2),J=W[0],E=W[1];function G(){return D.apply(this,arguments)}function D(){return(D=Object(i.a)(Object(o.a)().mark((function t(){var e;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.client.requestPermissions({network:{type:p.o.MAINNET,name:"onboard",rpcUrl:"https://mainnet-tezos.giganode.io/"}});case 3:return e=t.sent,console.log("Got permissions:",e.address),t.t0=s,t.next=8,k.client.getActiveAccount();case 8:t.t1=t.sent,(0,t.t0)(t.t1),t.next=15;break;case 12:t.prev=12,t.t2=t.catch(0),console.log("Got error:",t.t2);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}function q(){return F.apply(this,arguments)}function F(){return(F=Object(i.a)(Object(o.a)().mark((function t(){return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.clearActiveAccount();case 2:return t.t0=s,t.next=5,k.client.getActiveAccount();case 5:t.t1=t.sent,(0,t.t0)(t.t1);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(t){console.log("test performance");for(var e=0;e<J.length;e++)if(J[e].key===t)return J[e].value;return"gray"}return Object(c.useEffect)((function(){function t(){return(t=Object(i.a)(Object(o.a)().mark((function t(){return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=s,t.next=3,k.client.getActiveAccount();case 3:if(t.t1=t.sent,(0,t.t0)(t.t1),!n){t.next=12;break}return console.log(n.address),t.t2=s,t.next=10,k.client.getActiveAccount();case 10:t.t3=t.sent,(0,t.t2)(t.t3);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[n]),Object(c.useEffect)((function(){function t(){return(t=Object(i.a)(Object(o.a)().mark((function t(){var e,n;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get("https://api.ghostnet.tzkt.io/v1/contracts/".concat(w,"/bigmaps/posts/keys"));case 2:e=t.sent,n=e.data.reverse(),console.log(n),C(n);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function e(){return(e=Object(i.a)(Object(o.a)().mark((function t(){var e;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get("https://api.ghostnet.tzkt.io/v1/contracts/KT1Ji1mHYiWjpCzQq3nGFWzDfJNrpcwwCtob/bigmaps/colors/keys");case 2:e=t.sent,E(e.data),console.log(e.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}(),function(){e.apply(this,arguments)}()}),[]),Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsx)(b.a,{onClick:Object(i.a)(Object(o.a)().mark((function t(){return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),children:"ONChain"}),Object(g.jsx)(b.a,{onClick:Object(i.a)(Object(o.a)().mark((function t(){return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n?q():G();case 1:case"end":return t.stop()}}),t)}))),children:n?"unsync":"sync"})]}),Object(g.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(g.jsxs)("div",{style:{width:"70vw",marginTop:20},children:[Object(g.jsx)(m,{accAddress:n?n.address:""}),Object(g.jsxs)("div",{children:[Object(g.jsx)(d.a,{label:"Type here",variant:"outlined",value:j,onChange:function(t){t.target.value.length<510&&f(t.target.value)},fullWidth:!0}),Object(g.jsx)(b.a,{fullWidth:!0,onClick:Object(i.a)(Object(o.a)().mark((function t(){return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://onchain-onboard.herokuapp.com/users/social/post/".concat(j,"&").concat(n.address),{method:"POST",headers:{"Content-Type":"application/json"}});case 2:t.sent;case 3:case"end":return t.stop()}}),t)}))),children:S?Object(g.jsx)("img",{alt:"loading",src:O,style:{width:60}}):"Post"}),Object(g.jsxs)("div",{children:[Object(g.jsx)("br",{}),y&&y.map((function(t){return Object(g.jsxs)("div",{children:[t.value.post,Object(g.jsx)("br",{}),Object(g.jsx)("div",{style:{textAlign:"right"},children:Object(g.jsx)("b",{style:{color:"black",textAlign:"right",backgroundColor:N(t.value.author),padding:10},children:t.value.author})}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{})]},t.key)}))]})]})]})})]})};r.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(C,{})}),document.getElementById("root"))}},[[408,1,2]]]);
//# sourceMappingURL=main.bd96a085.chunk.js.map